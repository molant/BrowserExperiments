<!DOCTYPE html>
<html>
<head>
    <title>Notifications</title>
    <script src="../../browserexperiments.js"></script>
    <script src="Notification.js"></script>
</head>
<body>
    <header><h1>Notifications</h1></header>
	<blockquote>
		<p>The
		<a href="http://dev.w3.org/2006/webapi/WebNotifications/publish/Notifications.html">
		(w3c, draft) Notifications API</a> for drawing attention to your site. 
		In Chrome this will create a message in the corner of your desktop 
		screen. Alterntively in a pinned IE9 site the taskbar icon will flash 
		when the user does not have the page in focus. This is useful if your user was looking at another window/tab whilst waiting for something to occur, e.g. a download or a chat message.</p> 
		<p>Shim <a href="http://mrswitch.github.com/notification.js/">
		notification.js</a> by andrew dodson.</p>
	</blockquote>
    <div id="demo">
		<button id="start">Set up</button>
    </div>

    <script>
    	if( "Notification" in window && window.Notification.checkPermission() !== null ){
    		document.getElementById("start").onclick = (function self(){
    			if(window.Notification.checkPermission()){
    				// Mock up an event which happens in five seconds time
    				setTimeout(function(){
	    				window.Notification.createNotification("","Hello","This is a test");
    				},3000);
    			}
    			else{
    				window.Notification.requestPermission(self);
    			}
    		});
    	}
    	else{
    		document.getElementById("demo").innerHTML = "Ouch this browser doesn't support Notifications";
    	}
    </script>
</body>
</html>
