<!DOCTYPE html>
<html>
<head>
    <title>Notifications</title>
    <script src="../browserexperiments.js"></script>
    <style type="text/css">
    </style>
</head>
<body>
    <header><h1>Notifications</h1></header>
	<blockquote>
		<p>Desktop Notifications plugs directly into the OS and either overlays messages over all windows (chrome) or makes the taskbar icon flash (Pinned IE9 tab). THis is useful if your user was looking at another window/tab whilst wiating for something to occur, e.g. a download or a chat message.</p>
	</blockquote>
    <div id="demo">
		<button id="start">Set up</button>
    </div>

    <script src="Notification.js"></script>
    <script>
    	if( "Notification" in window && window.Notification.checkPermission() !== null ){
    		document.getElementById("start").onclick = (function self(){
    			if(window.Notification.checkPermission()){
    				// Mock up an event which happens in five seconds time
    				setTimeout(function(){
	    				window.Notification.createNotification("","Hello","This is a test");
    				},5000);
    			}
    			else{
    				window.Notification.requestPermission(self);
    			}
    		});
    	}
    	else{
    		document.getElementById("demo").innerHTML = "Ouch this browser doesn't support Notifications";
    	}
    </script>
</body>
</html>
